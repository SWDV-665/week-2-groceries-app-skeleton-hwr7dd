{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\seaha\\\\Desktop\\\\Groceries\\\\src\\\\components\\\\adduser.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport * as React from \"react\";\nimport { useForm, useFieldArray, useWatch } from \"react-hook-form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Total = ({\n  control\n}) => {\n  _s();\n\n  const formValues = useWatch({\n    name: \"cart\",\n    control\n  });\n  const total = formValues.reduce((acc, current) => acc + (current.price || 0) * (current.quantity || 0), 0);\n  return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: [\"Total Amount: \", total]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Total, \"6VRRXzCNmG4BaqVvCgh7x3skd5c=\", false, function () {\n  return [useWatch];\n});\n\n_c = Total;\nexport default function App() {\n  _s2();\n\n  const {\n    register,\n    control,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      cart: [{\n        name: \"test\",\n        quantity: 1,\n        price: 23\n      }]\n    },\n    mode: \"onBlur\"\n  });\n  const {\n    fields,\n    append,\n    remove\n  } = useFieldArray({\n    name: \"cart\",\n    control\n  });\n\n  const onSubmit = data => console.log(data);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [fields.map((field, index) => {\n        var _errors$cart, _errors$cart$index, _errors$cart2, _errors$cart2$index, _errors$cart3, _errors$cart3$index;\n\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"section\", {\n            className: \"section\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"name\",\n              ...register(`cart.${index}.name`, {\n                required: true\n              }),\n              className: (errors === null || errors === void 0 ? void 0 : (_errors$cart = errors.cart) === null || _errors$cart === void 0 ? void 0 : (_errors$cart$index = _errors$cart[index]) === null || _errors$cart$index === void 0 ? void 0 : _errors$cart$index.name) ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"quantity\",\n              type: \"number\",\n              ...register(`cart.${index}.quantity`, {\n                valueAsNumber: true,\n                required: true\n              }),\n              className: (errors === null || errors === void 0 ? void 0 : (_errors$cart2 = errors.cart) === null || _errors$cart2 === void 0 ? void 0 : (_errors$cart2$index = _errors$cart2[index]) === null || _errors$cart2$index === void 0 ? void 0 : _errors$cart2$index.quantity) ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              placeholder: \"value\",\n              type: \"number\",\n              ...register(`cart.${index}.price`, {\n                valueAsNumber: true,\n                required: true\n              }),\n              className: (errors === null || errors === void 0 ? void 0 : (_errors$cart3 = errors.cart) === null || _errors$cart3 === void 0 ? void 0 : (_errors$cart3$index = _errors$cart3[index]) === null || _errors$cart3$index === void 0 ? void 0 : _errors$cart3$index.price) ? \"error\" : \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => remove(index),\n              children: \"DELETE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 17\n            }, this)]\n          }, field.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 15\n          }, this)\n        }, field.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(Total, {\n        control: control\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => append({\n          name: \"\",\n          quantity: 0,\n          price: 0\n        }),\n        children: \"APPEND\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(App, \"RAlAonog1oNuRVetNFbOazAvhHs=\", false, function () {\n  return [useForm, useFieldArray];\n});\n\n_c2 = App;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Total\");\n$RefreshReg$(_c2, \"App\");","map":{"version":3,"sources":["C:/Users/seaha/Desktop/Groceries/src/components/adduser.tsx"],"names":["React","useForm","useFieldArray","useWatch","Total","control","formValues","name","total","reduce","acc","current","price","quantity","App","register","handleSubmit","formState","errors","defaultValues","cart","mode","fields","append","remove","onSubmit","data","console","log","map","field","index","required","valueAsNumber","id"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { useForm, useFieldArray, useWatch, Control } from \"react-hook-form\";\r\n\r\ntype FormValues = {\r\n  cart: {\r\n    name: string;\r\n    price: number;\r\n    quantity: number;\r\n  }[];\r\n};\r\n\r\nconst Total = ({ control }: { control: Control<FormValues> }) => {\r\n  const formValues = useWatch({\r\n    name: \"cart\",\r\n    control\r\n  });\r\n  const total = formValues.reduce(\r\n    (acc, current) => acc + (current.price || 0) * (current.quantity || 0),\r\n    0\r\n  );\r\n  return <p>Total Amount: {total}</p>;\r\n};\r\n\r\nexport default function App() {\r\n  const {\r\n    register,\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors }\r\n  } = useForm<FormValues>({\r\n    defaultValues: {\r\n      cart: [{ name: \"test\", quantity: 1, price: 23 }]\r\n    },\r\n    mode: \"onBlur\"\r\n  });\r\n  const { fields, append, remove } = useFieldArray({\r\n    name: \"cart\",\r\n    control\r\n  });\r\n  const onSubmit = (data: FormValues) => console.log(data);\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        {fields.map((field, index) => {\r\n          return (\r\n            <div key={field.id}>\r\n              <section className={\"section\"} key={field.id}>\r\n                <input\r\n                  placeholder=\"name\"\r\n                  {...register(`cart.${index}.name` as const, {\r\n                    required: true\r\n                  })}\r\n                  className={errors?.cart?.[index]?.name ? \"error\" : \"\"}\r\n                />\r\n                <input\r\n                  placeholder=\"quantity\"\r\n                  type=\"number\"\r\n                  {...register(`cart.${index}.quantity` as const, {\r\n                    valueAsNumber: true,\r\n                    required: true\r\n                  })}\r\n                  className={errors?.cart?.[index]?.quantity ? \"error\" : \"\"}\r\n                />\r\n                <input\r\n                  placeholder=\"value\"\r\n                  type=\"number\"\r\n                  {...register(`cart.${index}.price` as const, {\r\n                    valueAsNumber: true,\r\n                    required: true\r\n                  })}\r\n                  className={errors?.cart?.[index]?.price ? \"error\" : \"\"}\r\n                />\r\n                <button type=\"button\" onClick={() => remove(index)}>\r\n                  DELETE\r\n                </button>\r\n              </section>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n        <Total control={control} />\r\n\r\n        <button\r\n          type=\"button\"\r\n          onClick={() =>\r\n            append({\r\n              name: \"\",\r\n              quantity: 0,\r\n              price: 0\r\n            })\r\n          }\r\n        >\r\n          APPEND\r\n        </button>\r\n        <input type=\"submit\" />\r\n      </form>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}