{"ast":null,"code":"import _defineProperty from\"C:/Users/seaha/Desktop/groceries2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/seaha/Desktop/groceries2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/Users/seaha/Desktop/groceries2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:/Users/seaha/Desktop/groceries2/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonButton,IonCard,IonCardHeader,IonCardTitle,IonCardSubtitle}from\"@ionic/react\";import React from\"react\";import'./adduser.css';import{useIsScreenReaderEnabled,useSpeak}from'@capacitor-community/react-hooks/accessibility';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var UserList=function UserList(_ref){var tasks=_ref.tasks,updateTasks=_ref.updateTasks;var clickDeleteTask=function clickDeleteTask(event,task){event.preventDefault();fetch(\"/api/tasks/delete/\".concat(task._id),{method:'delete'}).then(function(res){return res.json();}).then(function(){return updateTasks();});};var toggleEdit=function toggleEdit(task){fetch(\"/api/tasks/update/\".concat(task._id),{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({Name:task.Name,Quantity:task.Quantity,edit:true})}).then(function(){return updateTasks();});};var onSubmitEdit=function onSubmitEdit(task){fetch(\"/api/tasks/update/\".concat(task._id),{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({Name:task.Name,Quantity:task.Quantity,edit:false})}).then(function(){return updateTasks();});};var fruited={Name:\"\",Quantity:0,edit:false};var _useSpeak=useSpeak(),speak=_useSpeak.speak;var _useIsScreenReaderEna=useIsScreenReaderEnabled(),isScreenReaderEnabled=_useIsScreenReaderEna.isScreenReaderEnabled;var _React$useState=React.useState(fruited),_React$useState2=_slicedToArray(_React$useState,2),updated=_React$useState2[0],setUpdate=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),updateList=_React$useState4[0],setUpdateList=_React$useState4[1];var handleEdit=function handleEdit(index){if(updateList[index].edit==false){var copied=_toConsumableArray(updateList);var item2=_objectSpread({},updateList[index]);item2.edit=true;copied[index]=item2;setUpdateList(copied);}else{var _copied=_toConsumableArray(updateList);var _item=_objectSpread({},updateList[index]);_item.edit=false;_copied[index]=_item;setUpdateList(_copied);}};var onChangeEdit=function onChangeEdit(task){return function(e){setUpdate(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},e.target.id,e.target.value));});};};return/*#__PURE__*/_jsx(\"div\",{children:updateList.map(function(task){/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsxs(IonCardHeader,{children:[/*#__PURE__*/_jsxs(IonCardTitle,{children:[\"Item: \",task.Name]}),/*#__PURE__*/_jsxs(IonCardSubtitle,{children:[\"Quantity: \",task.Quantity]})]}),/*#__PURE__*/_jsx(IonButton,{color:\"danger\",onClick:function onClick(event){return clickDeleteTask(event,task);},children:\"Remove Item \"}),isScreenReaderEnabled?/*#__PURE__*/_jsx(IonButton,{color:\"primary\",onClick:function onClick(){return speak({value:\"Test\"});},children:\"Speak Name \"}):/*#__PURE__*/_jsx(IonButton,{color:\"danger\",children:\"Screen Reader Disabled \"}),/*#__PURE__*/_jsx(IonButton,{color:\"warning\",onClick:function onClick(){return toggleEdit(task);},children:\"Edit Item \"})]}),task.edit?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(){return onSubmitEdit(task);},children:[/*#__PURE__*/_jsx(\"label\",{className:\"labels\",htmlFor:\"Name\",children:\"Name: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"Name\",onChange:onChangeEdit(task)}),/*#__PURE__*/_jsx(\"label\",{className:\"labels\",htmlFor:\"Quantity\",children:\"Quantity: \"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"Quantity\",onChange:onChangeEdit(task)}),/*#__PURE__*/_jsx(IonButton,{color:\"warning\",type:\"submit\",onClick:function onClick(){return handleEdit(task);},children:\"Submit Changes\"})]})}):null]},task._id);})});};export default UserList;","map":{"version":3,"sources":["C:/Users/seaha/Desktop/groceries2/client/src/components/userList.tsx"],"names":["IonButton","IonCard","IonCardHeader","IonCardTitle","IonCardSubtitle","React","useIsScreenReaderEnabled","useSpeak","UserList","tasks","updateTasks","clickDeleteTask","event","task","preventDefault","fetch","_id","method","then","res","json","toggleEdit","headers","body","JSON","stringify","Name","Quantity","edit","onSubmitEdit","fruited","speak","isScreenReaderEnabled","useState","updated","setUpdate","updateList","setUpdateList","handleEdit","index","copied","item2","onChangeEdit","e","prevState","target","id","value","map"],"mappings":"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","sourcesContent":["import { IonInput,IonContent,IonButton,IonCard,IonCardHeader,IonCardTitle,IonCardSubtitle,IonCardContent, IonItem } from \"@ionic/react\";\r\nimport React from \"react\";\r\nimport './adduser.css';\r\nimport { useIsScreenReaderEnabled, useSpeak  } from '@capacitor-community/react-hooks/accessibility';\r\nconst UserList = ({ tasks, updateTasks }) => {\r\n    const clickDeleteTask = (event, task) => {\r\n      event.preventDefault();\r\n  \r\n      fetch(`/api/tasks/delete/${task._id}`, {\r\n        method: 'delete',\r\n      })\r\n        .then(res => res.json())\r\n        .then(() => updateTasks());\r\n    };\r\n    const toggleEdit = task => {\r\n        fetch(`/api/tasks/update/${task._id}`, {\r\n          method: 'post',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ Name: task.Name,Quantity:task.Quantity,edit:true }),\r\n        }).then(() => updateTasks());\r\n      };\r\n    const onSubmitEdit = task => {\r\n        fetch(`/api/tasks/update/${task._id}`, {\r\n          method: 'post',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ Name: task.Name,Quantity:task.Quantity,edit:false }),\r\n        }).then(() => updateTasks());\r\n      };\r\n    const fruited={\r\n        Name:\"\",\r\n        Quantity:0,\r\n        edit:false\r\n      };\r\n  const { speak } = useSpeak();\r\n  const {isScreenReaderEnabled} = useIsScreenReaderEnabled();\r\n  const[updated,setUpdate]=React.useState(fruited);\r\n  const [updateList,setUpdateList]=React.useState([]);\r\n  const handleEdit= (index) =>{\r\n    if(updateList[index].edit==false){\r\n     const copied=[...updateList]\r\n     const item2 = {...updateList[index]};\r\n     item2.edit= true;\r\n     copied[index]=item2;\r\n     setUpdateList(copied);\r\n   }else{\r\n     const copied=[...updateList]\r\n     const item2 = {...updateList[index]};\r\n     item2.edit=false;\r\n     copied[index]=item2\r\n     setUpdateList(copied)}\r\n   };\r\n   const onChangeEdit =(task)=> (e: React.ChangeEvent<HTMLInputElement>) => {\r\n     setUpdate((prevState) => ({\r\n       ...prevState,\r\n       [e.target.id]: e.target.value,\r\n     }));\r\n   };\r\n\r\n   return (\r\n   <div>\r\n{updateList.map(task=>{\r\n\r\n      <div key={task._id}>\r\n    <IonCard>\r\n      <IonCardHeader >\r\n        <IonCardTitle  >\r\n          Item: {task.Name} \r\n        </IonCardTitle>\r\n        <IonCardSubtitle >\r\n          Quantity: {task.Quantity}\r\n        </IonCardSubtitle>\r\n      </IonCardHeader>\r\n      <IonButton color=\"danger\"onClick={event => clickDeleteTask(event, task)}>Remove Item </IonButton>\r\n      {isScreenReaderEnabled?<IonButton color=\"primary\"onClick={() =>speak({value:\"Test\"})}>Speak Name </IonButton>:\r\n      <IonButton color=\"danger\">Screen Reader Disabled </IonButton>\r\n      }\r\n      <IonButton color=\"warning\" onClick={()=>toggleEdit(task)}>Edit Item </IonButton>\r\n   </IonCard>\r\n   {task.edit? \r\n   <div >\r\n     <form onSubmit={()=>onSubmitEdit(task)} >\r\n    <label className='labels' htmlFor=\"Name\">Name: </label>\r\n    <input type=\"text\" id=\"Name\"  onChange={onChangeEdit(task)} />\r\n    <label className='labels' htmlFor=\"Quantity\">Quantity: </label>\r\n    <input  type=\"number\" id=\"Quantity\"  onChange={onChangeEdit(task)} />\r\n    <IonButton color=\"warning\" type=\"submit\" onClick={()=>handleEdit(task)}>Submit Changes</IonButton>\r\n  </form></div>:null }\r\n    </div>\r\n})\r\n} \r\n</div>);};\r\nexport default UserList;\r\n"]},"metadata":{},"sourceType":"module"}